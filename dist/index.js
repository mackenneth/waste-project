(()=>{"use strict";const t=document.querySelector(".game-data__time-value"),e=document.querySelector(".countdown"),s=document.querySelector(".countdown__circle"),n=document.querySelector("#waste-container-template"),c=document.querySelector(".waste-containers"),r=document.querySelector(".game-data__current-waste"),a=document.querySelector("#current-score"),o=document.querySelector("#best-score"),i=document.querySelector(".new-record__best-score"),l=document.querySelector(".answer__correct"),h=document.querySelector(".answer__incorrect"),g=document.querySelector(".modal"),w=document.querySelector(".modal__close");class d{constructor(t){this.finalOffset=440,this.time=t,this.totalTime=t,this.step=this.finalOffset/t}setCountdownStrokeDashoffset(t){s.style.strokeDashoffset=t}setTimerInner(e){t.innerText=e}startCountdown(){return new Promise((t=>{let e=1;this.setTimerInner(this.time),this.setCountdownStrokeDashoffset(this.step*e);const s=setInterval((()=>{this.setTimerInner(this.time-e),e++===this.time?(clearInterval(s),this.time=this.totalTime,this.setCountdownStrokeDashoffset(0),this.setTimerInner("Play again!"),t("done")):this.setCountdownStrokeDashoffset(this.step*e)}),1e3)}))}}class m{constructor(t){this.wasteTypes=t,this.createContainers()}createContainerEntity(t,e){return{wasteType:t.wasteType,wasteId:e,color:t.color,displayingName:t.displayingName}}createContainers(){this.wasteTypes.forEach(((t,e)=>{const s=this.createContainerEntity(t,e),r=n.content.cloneNode(!0),a=r.querySelector(".waste-container__description"),o=r.querySelector(".waste-container");a.textContent=s.displayingName,a.style.background=s.color,o.dataset.wasteId=s.wasteId.toString(),o.style.fill=s.color,c.appendChild(r)}))}}var p;!function(t){t.Plastic="plastic",t.Glass="glass",t.Paper="paper"}(p||(p={}));const u={plastic:{wasteType:p.Plastic,color:"#0060f2",displayingName:"Plastic"},glass:{wasteType:p.Glass,color:"#73c011",displayingName:"Glass"},paper:{wasteType:p.Paper,color:"#F2AA0B",displayingName:"Paper"}},v={type:u.plastic.wasteType,color:u.plastic.color,image:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 371.667 371.667" style="enable-background:new 0 0 371.667 371.667;" xml:space="preserve">\n<path d="M245.833,371.667h-120c-9.374,0-17-7.626-17-17v-273c0-8.136,5.715-15.024,13.538-16.641l34.373-19.872\n\tc-0.264-0.609-0.41-1.281-0.41-1.987V5c0-2.761,2.238-5,5-5h51c2.762,0,5,2.239,5,5v38.167c0,0.671-0.132,1.312-0.372,1.896\n\tl32.391,19.975c7.793,1.638,13.48,8.515,13.48,16.628v273C262.833,364.041,255.208,371.667,245.833,371.667z M118.833,302.667v52\n\tc0,3.86,3.141,7,7,7h120c3.859,0,7-3.14,7-7v-52H118.833z M118.833,292.667h134v-13h-134V292.667z M118.833,269.667h134v-13h-134\n\tV269.667z M118.833,246.667h134v-13h-134V246.667z M118.833,223.667h134v-13h-134V223.667z M118.833,200.667h134v-13h-134V200.667z\n\t M118.833,177.667h134v-13h-134V177.667z M118.833,154.667h134v-72h-134V154.667z M129.134,72.667h113.538l-39.729-24.5h-31.43\n\tL129.134,72.667z M204.361,38.167h2.974V10h-41v28.167H204.361z"/>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n'},y={type:u.glass.wasteType,color:u.glass.color,image:'<?xml version="1.0" encoding="iso-8859-1"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 395.451 395.451" style="enable-background:new 0 0 395.451 395.451;" xml:space="preserve">\n<path d="M252.549,136.942c-4.478-8.023-7.712-13.82-7.712-20.823c0-21.903-8.03-84.708-9.769-98.056\n\tc2.483-1.819,4.103-4.749,4.103-8.063c0-5.522-4.477-10-10-10H166.28c-5.523,0-10,4.478-10,10c0,3.314,1.62,6.244,4.103,8.063\n\tc-1.739,13.348-9.769,76.152-9.769,98.056c0,7.003-3.235,12.8-7.712,20.823c-7.256,13.004-17.194,30.813-17.194,63.519V356\n\tc0,29.02,21.03,38.472,32.151,39.415c0.281,0.024,0.563,0.036,0.845,0.036h78.043c0.282,0,0.564-0.012,0.845-0.036\n\tc11.121-0.943,32.151-10.396,32.151-39.415V200.461C269.743,167.755,259.806,149.946,252.549,136.942z M221.727,302.936\n\tl-6.066,1.951c-2.031,0.653-3.8,1.939-5.048,3.67l-3.719,5.157l-6.042-1.987c-2.029-0.668-4.22-0.668-6.249,0l-6.043,1.987\n\tl-3.72-5.157c-1.248-1.732-3.018-3.017-5.049-3.67l-6.065-1.951l0.015-6.369c0.001-0.358-0.024-0.713-0.061-1.066h48.096\n\tc-0.037,0.354-0.063,0.708-0.062,1.066L221.727,302.936z M173.724,210.768l6.066-1.951c2.031-0.653,3.8-1.939,5.048-3.67l3.72-5.157\n\tl6.043,1.987c2.029,0.668,4.22,0.668,6.249,0l6.042-1.987l3.719,5.157c1.249,1.73,3.018,3.017,5.049,3.67l6.065,1.951l-0.015,6.37\n\tc-0.003,0.976,0.145,1.939,0.419,2.862H173.32c0.274-0.925,0.421-1.888,0.419-2.864L173.724,210.768z M145.708,275.5V240h104.035\n\tv35.5H145.708z M160.367,146.689c5.27-9.444,10.247-18.364,10.247-30.569c0-18.063,6.198-68.739,8.793-89.163h36.637\n\tc2.595,20.424,8.793,71.1,8.793,89.163c0,12.205,4.978,21.125,10.247,30.569c6.871,12.313,14.659,26.27,14.659,53.772V220h-3.577\n\tl-4.447-6.092l0.024-10.401c0.01-4.352-2.795-8.21-6.939-9.542l-9.893-3.182l-6.079-8.43c-2.55-3.535-7.095-5.015-11.235-3.65\n\tl-9.872,3.246l-9.872-3.246c-4.142-1.364-8.686,0.113-11.235,3.65l-6.081,8.43l-9.894,3.183c-4.143,1.333-6.948,5.191-6.938,9.543\n\tl0.024,10.399L149.284,220h-3.576v-19.539C145.708,172.958,153.496,159.002,160.367,146.689z M236.136,375.451h-76.821\n\tc-3.651-0.529-13.607-3.452-13.607-19.451v-60.5h4.888l3.136,4.295l-0.024,10.4c-0.01,4.352,2.795,8.211,6.939,9.543l9.893,3.182\n\tl6.08,8.43c2.55,3.535,7.096,5.013,11.235,3.649l9.872-3.246l9.872,3.246c1.029,0.339,2.082,0.502,3.123,0.502\n\tc3.152-0.001,6.196-1.494,8.112-4.151l6.08-8.43l9.893-3.183c4.142-1.332,6.947-5.19,6.938-9.542l-0.024-10.4l3.135-4.295h4.889V356\n\tC249.743,371.999,239.788,374.922,236.136,375.451z"/>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>\n'},S={type:u.paper.wasteType,color:u.paper.color,image:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t  viewBox="0 0 96.5 96.5" style="enable-background:new 0 0 96.5 96.5;" xml:space="preserve">\n<g>\n\t<g>\n\t\t<path d="M84.5,10.495c-0.344,0-0.684,0.023-1.02,0.052c-0.084-0.023-0.166-0.052-0.256-0.052H34c-6.617,0-12,5.383-12,12v50.51H1\n\t\t\tc-0.553,0-1,0.446-1,1c0,6.616,5.383,12,12,12c0.246,0,0.464-0.1,0.638-0.246c0.174,0.146,0.392,0.246,0.638,0.246H62.5\n\t\t\tc6.617,0,12-5.384,12-12c0-0.09-0.029-0.172-0.051-0.254c0.021-0.084,0.051-0.164,0.051-0.255v-3.25v-46.75h21\n\t\t\tc0.553,0,1-0.447,1-1C96.5,15.878,91.117,10.495,84.5,10.495z M94.449,21.495H74.551c0.504-5.046,4.773-9,9.949-9\n\t\t\tS93.945,16.449,94.449,21.495z M13.276,84.005c-0.246,0-0.464,0.102-0.638,0.246c-0.174-0.146-0.392-0.246-0.638-0.246\n\t\t\tc-5.176,0-9.446-3.955-9.949-9h48.5c0.312,3.754,2.354,7.021,5.33,9H13.276z M62.5,84.005c-5.514,0-10-4.484-10-10\n\t\t\tc0-0.554-0.447-1-1-1H24v-50.51c0-5.514,4.486-10,10-10h43.881c-3.238,2.151-5.381,5.828-5.381,10v47.75v3.25\n\t\t\tc0,0.09,0.029,0.172,0.051,0.254c-0.021,0.084-0.051,0.164-0.051,0.254C72.5,79.519,68.014,84.005,62.5,84.005z"/>\n\t\t<path d="M63.75,64.245h-28c-0.553,0-1,0.445-1,1c0,0.553,0.447,1,1,1h28c0.553,0,1-0.447,1-1\n\t\t\tC64.75,64.69,64.303,64.245,63.75,64.245z"/>\n\t\t<path d="M63.75,54.245h-28c-0.553,0-1,0.445-1,1c0,0.553,0.447,1,1,1h28c0.553,0,1-0.447,1-1\n\t\t\tC64.75,54.69,64.303,54.245,63.75,54.245z"/>\n\t\t<path d="M63.75,44.245h-28c-0.553,0-1,0.447-1,1c0,0.553,0.447,1,1,1h28c0.553,0,1-0.447,1-1\n\t\t\tC64.75,44.692,64.303,44.245,63.75,44.245z"/>\n\t\t<path d="M63.75,34.245h-28c-0.553,0-1,0.447-1,1c0,0.553,0.447,1,1,1h28c0.553,0,1-0.447,1-1\n\t\t\tC64.75,34.692,64.303,34.245,63.75,34.245z"/>\n\t\t<path d="M63.75,24.245h-28c-0.553,0-1,0.447-1,1c0,0.553,0.447,1,1,1h28c0.553,0,1-0.447,1-1\n\t\t\tC64.75,24.692,64.303,24.245,63.75,24.245z"/>\n\t</g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n<g>\n</g>\n</svg>'},x=[u.plastic,u.glass,u.paper],C=[v,y,S];class f{constructor(t,e){this.wastes=[],this.createWastes(t,e)}getWaste(t,e){return Object.assign({wasteId:e},t)}createWastes(t,e){e.forEach((e=>{const s=t.findIndex((t=>t.wasteType===e.type));-1!==s&&this.wastes.push(this.getWaste(e,s))}))}getRandomWaste(){return this.wastes[Math.floor(Math.random()*this.wastes.length)]}}new class{constructor(t=60,e=x,s=C){this.hasGameStarted=!1,this.currentWasteTypeId=null,this.score=0,this.countdown=new d(t),this.wasteContainers=new m(e),this.wastes=new f(e,s),this.bestScore=this.getBestScore(),this.init()}init(){e.addEventListener("click",(()=>{this.hasGameStarted||this.startGame()})),c.querySelectorAll(".waste-container").forEach((t=>{t.addEventListener("click",(()=>this.checkAnswer(t.dataset.wasteId)))})),w.addEventListener("click",(()=>{g.classList.remove("fade-in-element")})),this.setBestScore(this.bestScore)}startGame(){this.hasGameStarted=!0,this.setScore(0),this.countdown.startCountdown().then((()=>{this.finishGame()})),this.setWasteElement()}finishGame(){this.hasGameStarted=!1,r.classList.remove("show-element"),this.score>this.bestScore&&(this.setBestScore(this.score),g.classList.add("fade-in-element"),this.saveBestScore(this.score))}checkAnswer(t){this.hasGameStarted&&(Number(t)===this.currentWasteTypeId?this.correctAnswer():this.incorrectAnswer())}setWasteElement(){if(this.hasGameStarted){const t=this.wastes.getRandomWaste();this.currentWasteTypeId=t.wasteId,r.innerHTML=t.image,r.querySelector("svg").style.fill=t.color,r.classList.add("show-element")}}setScore(t){this.score=t,a.textContent=t.toString()}setBestScore(t){this.bestScore=t;const e=t.toString();o.textContent=e,i.textContent=e}getBestScore(){const t=JSON.parse(localStorage.getItem("bestScore"));return null!=t?t:0}saveBestScore(t){localStorage.setItem("bestScore",JSON.stringify(t)),this.bestScore=t}correctAnswer(){r.classList.remove("show-element"),l.classList.add("show-element"),this.setScore(this.score+1),setTimeout((()=>{l.classList.remove("show-element"),this.setWasteElement()}),500)}incorrectAnswer(){r.classList.remove("show-element"),h.classList.add("show-element"),setTimeout((()=>{h.classList.remove("show-element"),this.setWasteElement()}),500)}}(30)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VixVQUFZaUYsRUFFakIsTUFBTXFCLEVBQXNCckIsRUFBTWxDLFdBQ2xDL0MsRUFBVTRDLFlBQWMwRCxFQUN4QnJHLEVBQW1CMkMsWUFBYzBELENBQ3JDLENBRVFwQixlQUNKLE1BQU1sRixFQUFZdUcsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxjQUNsRCxPQUFPMUcsUUFBQUEsRUFBYSxDQUN4QixDQUVRZ0csY0FBY2YsR0FDbEJ3QixhQUFhRSxRQUFRLFlBQWFKLEtBQUtLLFVBQVUzQixJQUNqRHZFLEtBQUtWLFVBQVlpRixDQUNyQixDQUVRa0IsZ0JBQ0pyRyxFQUFhMEYsVUFBVUMsT0FBTyxnQkFDOUJ2RixFQUFpQnNGLFVBQVVPLElBQUksZ0JBQy9CckYsS0FBS2lGLFNBQVNqRixLQUFLdUUsTUFBUSxHQUUzQjRCLFlBQVcsS0FDUDNHLEVBQWlCc0YsVUFBVUMsT0FBTyxnQkFDbEMvRSxLQUFLb0YsaUJBQWlCLEdBQ3ZCLElBRVAsQ0FFUU0sa0JBQ0p0RyxFQUFhMEYsVUFBVUMsT0FBTyxnQkFDOUJ0RixFQUFtQnFGLFVBQVVPLElBQUksZ0JBRWpDYyxZQUFXLEtBQ1AxRyxFQUFtQnFGLFVBQVVDLE9BQU8sZ0JBQ3BDL0UsS0FBS29GLGlCQUFpQixHQUN2QixJQUNQLEdEMUlpQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2FzdGUtc29ydGluZy8uL3NyYy9qcy9jb25zdHMvZWxlbWVudHMudHMiLCJ3ZWJwYWNrOi8vd2FzdGUtc29ydGluZy8uL3NyYy9qcy9nYW1lL0NvdW50ZG93bi50cyIsIndlYnBhY2s6Ly93YXN0ZS1zb3J0aW5nLy4vc3JjL2pzL2dhbWUvV2FzdGVDb250YWluZXJzLnRzIiwid2VicGFjazovL3dhc3RlLXNvcnRpbmcvLi9zcmMvanMvY29uc3RzL2NvbnN0cy50cyIsIndlYnBhY2s6Ly93YXN0ZS1zb3J0aW5nLy4vc3JjL2pzL2NvbnN0cy93YXN0ZXMudHMiLCJ3ZWJwYWNrOi8vd2FzdGUtc29ydGluZy8uL3NyYy9qcy9jb25zdHMvd2FzdGVJbWFnZXMudHMiLCJ3ZWJwYWNrOi8vd2FzdGUtc29ydGluZy8uL3NyYy9qcy9jb25zdHMvZGVmYXVsdFNldHRpbmdzLnRzIiwid2VicGFjazovL3dhc3RlLXNvcnRpbmcvLi9zcmMvanMvZ2FtZS9XYXN0ZXMudHMiLCJ3ZWJwYWNrOi8vd2FzdGUtc29ydGluZy8uL3NyYy9qcy9pbmRleC50cyIsIndlYnBhY2s6Ly93YXN0ZS1zb3J0aW5nLy4vc3JjL2pzL2dhbWUvR2FtZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdGltZXJJbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoICcuZ2FtZS1kYXRhX190aW1lLXZhbHVlJyApXG5leHBvcnQgY29uc3QgY291bnRkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50ZG93bicpXG5leHBvcnQgY29uc3QgY291bnRkb3duQ2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50ZG93bl9fY2lyY2xlJylcbmV4cG9ydCBjb25zdCB3YXN0ZUNvbnRhaW5lclRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dhc3RlLWNvbnRhaW5lci10ZW1wbGF0ZScpXG5leHBvcnQgY29uc3Qgd2FzdGVDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndhc3RlLWNvbnRhaW5lcnMnKVxuZXhwb3J0IGNvbnN0IGN1cnJlbnRXYXN0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYW1lLWRhdGFfX2N1cnJlbnQtd2FzdGUnKSBhcyBIVE1MRWxlbWVudFxuZXhwb3J0IGNvbnN0IGN1cnJlbnRTY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyZW50LXNjb3JlJykgYXMgSFRNTEVsZW1lbnRcbmV4cG9ydCBjb25zdCBiZXN0U2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmVzdC1zY29yZScpIGFzIEhUTUxFbGVtZW50XG5leHBvcnQgY29uc3QgbmV3UmVjb3JkQmVzdFNjb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldy1yZWNvcmRfX2Jlc3Qtc2NvcmUnKSBhcyBIVE1MRWxlbWVudFxuZXhwb3J0IGNvbnN0IGNvcnJlY3RBbnN3ZXJJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYW5zd2VyX19jb3JyZWN0JykgYXMgSFRNTEltYWdlRWxlbWVudFxuZXhwb3J0IGNvbnN0IGluY29ycmVjdEFuc3dlckltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hbnN3ZXJfX2luY29ycmVjdCcpIGFzIEhUTUxJbWFnZUVsZW1lbnRcbmV4cG9ydCBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpIGFzIEhUTUxFbGVtZW50XG5leHBvcnQgY29uc3QgY2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKSBhcyBIVE1MRWxlbWVudCIsImltcG9ydCB7dGltZXJJbm5lciwgY291bnRkb3duQ2lyY2xlfSBmcm9tICdAL2pzL2NvbnN0cy9lbGVtZW50cydcblxuXG5leHBvcnQgY2xhc3MgQ291bnRkb3duIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRvdGFsVGltZTogbnVtYmVyXG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGZpbmFsT2Zmc2V0ID0gNDQwXG5cbiAgICBwcml2YXRlIHRpbWU6IG51bWJlclxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzdGVwOiBudW1iZXJcblxuICAgIGNvbnN0cnVjdG9yKHRpbWU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lXG4gICAgICAgIHRoaXMudG90YWxUaW1lID0gdGltZVxuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLmZpbmFsT2Zmc2V0IC8gdGltZVxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRDb3VudGRvd25TdHJva2VEYXNob2Zmc2V0KHN0cm9rZURhc2hvZmZzZXQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvdW50ZG93bkNpcmNsZS5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gc3Ryb2tlRGFzaG9mZnNldFxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRUaW1lcklubmVyKHRleHQ6IHN0cmluZyB8IG51bWJlcik6IHZvaWQge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRpbWVySW5uZXIuaW5uZXJUZXh0ID0gdGV4dFxuICAgIH1cblxuICAgIHB1YmxpYyBzdGFydENvdW50ZG93bigpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBsZXQgaSA9IDFcbiAgICAgICAgICAgIHRoaXMuc2V0VGltZXJJbm5lcih0aGlzLnRpbWUpXG4gICAgICAgICAgICB0aGlzLnNldENvdW50ZG93blN0cm9rZURhc2hvZmZzZXQodGhpcy5zdGVwICogaSlcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVySW5uZXIodGhpcy50aW1lIC0gaSlcbiAgICAgICAgICAgICAgICBpZiAoIGkrKyA9PT0gdGhpcy50aW1lICkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKCBpbnRlcnZhbCApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZSA9IHRoaXMudG90YWxUaW1lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q291bnRkb3duU3Ryb2tlRGFzaG9mZnNldCgwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRpbWVySW5uZXIoJ1BsYXkgYWdhaW4hJylcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnZG9uZScpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudGRvd25TdHJva2VEYXNob2Zmc2V0KHRoaXMuc3RlcCAqIGkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCApXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7IFRDb250YWluZXIsIFRXYXN0ZVR5cGUgfSBmcm9tICdAL2pzL3R5cGVzL3R5cGVzJ1xuaW1wb3J0IHsgd2FzdGVDb250YWluZXJzLCB3YXN0ZUNvbnRhaW5lclRlbXBsYXRlIH0gZnJvbSAnQC9qcy9jb25zdHMvZWxlbWVudHMnXG5cbmV4cG9ydCBjbGFzcyBXYXN0ZUNvbnRhaW5lcnMge1xuICAgIHdhc3RlVHlwZXM6IEFycmF5PFRXYXN0ZVR5cGU+XG5cbiAgICBjb25zdHJ1Y3Rvcih3YXN0ZVR5cGVzOiBBcnJheTxUV2FzdGVUeXBlPikge1xuICAgICAgICB0aGlzLndhc3RlVHlwZXMgPSB3YXN0ZVR5cGVzXG5cbiAgICAgICAgdGhpcy5jcmVhdGVDb250YWluZXJzKClcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNvbnRhaW5lckVudGl0eSh3YXN0ZVR5cGU6IFRXYXN0ZVR5cGUsIGlkOiBudW1iZXIpOiBUQ29udGFpbmVyIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdhc3RlVHlwZTogd2FzdGVUeXBlLndhc3RlVHlwZSxcbiAgICAgICAgICAgIHdhc3RlSWQ6IGlkLFxuICAgICAgICAgICAgY29sb3I6IHdhc3RlVHlwZS5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXlpbmdOYW1lOiB3YXN0ZVR5cGUuZGlzcGxheWluZ05hbWUsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUNvbnRhaW5lcnMoKSB7XG4gICAgICAgIHRoaXMud2FzdGVUeXBlcy5mb3JFYWNoKChjb250YWluZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3YXN0ZUNvbnRhaW5lciA9IHRoaXMuY3JlYXRlQ29udGFpbmVyRW50aXR5KGNvbnRhaW5lciwgaW5kZXgpXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IHdhc3RlQ29udGFpbmVyVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcblxuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcud2FzdGUtY29udGFpbmVyX19kZXNjcmlwdGlvbicpXG4gICAgICAgICAgICBjb25zdCB3YXN0ZUNvbnRhaW5lckVsZW1lbnQ6IFNWR0VsZW1lbnQgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcud2FzdGUtY29udGFpbmVyJylcblxuICAgICAgICAgICAgZGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB3YXN0ZUNvbnRhaW5lci5kaXNwbGF5aW5nTmFtZVxuICAgICAgICAgICAgZGVzY3JpcHRpb24uc3R5bGUuYmFja2dyb3VuZCA9IHdhc3RlQ29udGFpbmVyLmNvbG9yXG5cbiAgICAgICAgICAgIHdhc3RlQ29udGFpbmVyRWxlbWVudC5kYXRhc2V0Lndhc3RlSWQgPSB3YXN0ZUNvbnRhaW5lci53YXN0ZUlkLnRvU3RyaW5nKClcblxuICAgICAgICAgICAgd2FzdGVDb250YWluZXJFbGVtZW50LnN0eWxlLmZpbGwgPSB3YXN0ZUNvbnRhaW5lci5jb2xvclxuXG4gICAgICAgICAgICB3YXN0ZUNvbnRhaW5lcnMuYXBwZW5kQ2hpbGQoY2xvbmUpXG4gICAgICAgIH0pXG5cblxuICAgIH1cbn0iLCJcbmV4cG9ydCBlbnVtIFdhc3RlVHlwZSB7XG4gICAgUGxhc3RpYyA9ICdwbGFzdGljJyxcbiAgICBHbGFzcyA9ICdnbGFzcycsXG4gICAgUGFwZXIgPSAncGFwZXInLFxufVxuXG5leHBvcnQgY29uc3Qgd2FzdGVUeXBlc0VudGl0aWVzID0ge1xuICAgIHBsYXN0aWM6IHtcbiAgICAgICAgd2FzdGVUeXBlOiBXYXN0ZVR5cGUuUGxhc3RpYyxcbiAgICAgICAgY29sb3I6ICcjMDA2MGYyJyxcbiAgICAgICAgZGlzcGxheWluZ05hbWU6ICdQbGFzdGljJ1xuICAgIH0sXG4gICAgZ2xhc3M6IHtcbiAgICAgICAgd2FzdGVUeXBlOiBXYXN0ZVR5cGUuR2xhc3MsXG4gICAgICAgIGNvbG9yOiAnIzczYzAxMScsXG4gICAgICAgIGRpc3BsYXlpbmdOYW1lOiAnR2xhc3MnXG4gICAgfSxcbiAgICBwYXBlcjoge1xuICAgICAgICB3YXN0ZVR5cGU6IFdhc3RlVHlwZS5QYXBlcixcbiAgICAgICAgY29sb3I6ICcjRjJBQTBCJyxcbiAgICAgICAgZGlzcGxheWluZ05hbWU6ICdQYXBlcidcbiAgICB9LFxufVxuXG4iLCJpbXBvcnQgeyB3YXN0ZVR5cGVzRW50aXRpZXMgfSBmcm9tICdAL2pzL2NvbnN0cy9jb25zdHMnXG5pbXBvcnQgeyBwbGFzdGljQm90dGxlU3ZnLCBnbGFzc0JvdHRsZVN2ZywgcGFwZXJTaGVldFN2ZyB9IGZyb20gJ0AvanMvY29uc3RzL3dhc3RlSW1hZ2VzJ1xuXG5leHBvcnQgY29uc3QgcGxhc3RpY0JvdHRsZSA9IHtcbiAgICB0eXBlOiB3YXN0ZVR5cGVzRW50aXRpZXMucGxhc3RpYy53YXN0ZVR5cGUsXG4gICAgY29sb3I6IHdhc3RlVHlwZXNFbnRpdGllcy5wbGFzdGljLmNvbG9yLFxuICAgIGltYWdlOiBwbGFzdGljQm90dGxlU3ZnLFxufVxuXG5leHBvcnQgY29uc3QgZ2xhc3NCb3R0bGUgPSB7XG4gICAgdHlwZTogd2FzdGVUeXBlc0VudGl0aWVzLmdsYXNzLndhc3RlVHlwZSxcbiAgICBjb2xvcjogd2FzdGVUeXBlc0VudGl0aWVzLmdsYXNzLmNvbG9yLFxuICAgIGltYWdlOiBnbGFzc0JvdHRsZVN2Zyxcbn1cblxuZXhwb3J0IGNvbnN0IHBhcGVyU2hlZXQgPSB7XG4gICAgdHlwZTogd2FzdGVUeXBlc0VudGl0aWVzLnBhcGVyLndhc3RlVHlwZSxcbiAgICBjb2xvcjogd2FzdGVUeXBlc0VudGl0aWVzLnBhcGVyLmNvbG9yLFxuICAgIGltYWdlOiBwYXBlclNoZWV0U3ZnLFxufSIsImV4cG9ydCBjb25zdCBnbGFzc0JvdHRsZVN2ZyA9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJpc28tODg1OS0xXCI/PlxcbicgK1xuICAgICc8IURPQ1RZUEUgc3ZnIFBVQkxJQyBcIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOXCIgXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cXG4nICtcbiAgICAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJDYXBhXzFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxcbicgK1xuICAgICdcXHQgdmlld0JveD1cIjAgMCAzOTUuNDUxIDM5NS40NTFcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzk1LjQ1MSAzOTUuNDUxO1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XFxuJyArXG4gICAgJzxwYXRoIGQ9XCJNMjUyLjU0OSwxMzYuOTQyYy00LjQ3OC04LjAyMy03LjcxMi0xMy44Mi03LjcxMi0yMC44MjNjMC0yMS45MDMtOC4wMy04NC43MDgtOS43NjktOTguMDU2XFxuJyArXG4gICAgJ1xcdGMyLjQ4My0xLjgxOSw0LjEwMy00Ljc0OSw0LjEwMy04LjA2M2MwLTUuNTIyLTQuNDc3LTEwLTEwLTEwSDE2Ni4yOGMtNS41MjMsMC0xMCw0LjQ3OC0xMCwxMGMwLDMuMzE0LDEuNjIsNi4yNDQsNC4xMDMsOC4wNjNcXG4nICtcbiAgICAnXFx0Yy0xLjczOSwxMy4zNDgtOS43NjksNzYuMTUyLTkuNzY5LDk4LjA1NmMwLDcuMDAzLTMuMjM1LDEyLjgtNy43MTIsMjAuODIzYy03LjI1NiwxMy4wMDQtMTcuMTk0LDMwLjgxMy0xNy4xOTQsNjMuNTE5VjM1NlxcbicgK1xuICAgICdcXHRjMCwyOS4wMiwyMS4wMywzOC40NzIsMzIuMTUxLDM5LjQxNWMwLjI4MSwwLjAyNCwwLjU2MywwLjAzNiwwLjg0NSwwLjAzNmg3OC4wNDNjMC4yODIsMCwwLjU2NC0wLjAxMiwwLjg0NS0wLjAzNlxcbicgK1xuICAgICdcXHRjMTEuMTIxLTAuOTQzLDMyLjE1MS0xMC4zOTYsMzIuMTUxLTM5LjQxNVYyMDAuNDYxQzI2OS43NDMsMTY3Ljc1NSwyNTkuODA2LDE0OS45NDYsMjUyLjU0OSwxMzYuOTQyeiBNMjIxLjcyNywzMDIuOTM2XFxuJyArXG4gICAgJ1xcdGwtNi4wNjYsMS45NTFjLTIuMDMxLDAuNjUzLTMuOCwxLjkzOS01LjA0OCwzLjY3bC0zLjcxOSw1LjE1N2wtNi4wNDItMS45ODdjLTIuMDI5LTAuNjY4LTQuMjItMC42NjgtNi4yNDksMGwtNi4wNDMsMS45ODdcXG4nICtcbiAgICAnXFx0bC0zLjcyLTUuMTU3Yy0xLjI0OC0xLjczMi0zLjAxOC0zLjAxNy01LjA0OS0zLjY3bC02LjA2NS0xLjk1MWwwLjAxNS02LjM2OWMwLjAwMS0wLjM1OC0wLjAyNC0wLjcxMy0wLjA2MS0xLjA2Nmg0OC4wOTZcXG4nICtcbiAgICAnXFx0Yy0wLjAzNywwLjM1NC0wLjA2MywwLjcwOC0wLjA2MiwxLjA2NkwyMjEuNzI3LDMwMi45MzZ6IE0xNzMuNzI0LDIxMC43NjhsNi4wNjYtMS45NTFjMi4wMzEtMC42NTMsMy44LTEuOTM5LDUuMDQ4LTMuNjdsMy43Mi01LjE1N1xcbicgK1xuICAgICdcXHRsNi4wNDMsMS45ODdjMi4wMjksMC42NjgsNC4yMiwwLjY2OCw2LjI0OSwwbDYuMDQyLTEuOTg3bDMuNzE5LDUuMTU3YzEuMjQ5LDEuNzMsMy4wMTgsMy4wMTcsNS4wNDksMy42N2w2LjA2NSwxLjk1MWwtMC4wMTUsNi4zN1xcbicgK1xuICAgICdcXHRjLTAuMDAzLDAuOTc2LDAuMTQ1LDEuOTM5LDAuNDE5LDIuODYySDE3My4zMmMwLjI3NC0wLjkyNSwwLjQyMS0xLjg4OCwwLjQxOS0yLjg2NEwxNzMuNzI0LDIxMC43Njh6IE0xNDUuNzA4LDI3NS41VjI0MGgxMDQuMDM1XFxuJyArXG4gICAgJ1xcdHYzNS41SDE0NS43MDh6IE0xNjAuMzY3LDE0Ni42ODljNS4yNy05LjQ0NCwxMC4yNDctMTguMzY0LDEwLjI0Ny0zMC41NjljMC0xOC4wNjMsNi4xOTgtNjguNzM5LDguNzkzLTg5LjE2M2gzNi42MzdcXG4nICtcbiAgICAnXFx0YzIuNTk1LDIwLjQyNCw4Ljc5Myw3MS4xLDguNzkzLDg5LjE2M2MwLDEyLjIwNSw0Ljk3OCwyMS4xMjUsMTAuMjQ3LDMwLjU2OWM2Ljg3MSwxMi4zMTMsMTQuNjU5LDI2LjI3LDE0LjY1OSw1My43NzJWMjIwaC0zLjU3N1xcbicgK1xuICAgICdcXHRsLTQuNDQ3LTYuMDkybDAuMDI0LTEwLjQwMWMwLjAxLTQuMzUyLTIuNzk1LTguMjEtNi45MzktOS41NDJsLTkuODkzLTMuMTgybC02LjA3OS04LjQzYy0yLjU1LTMuNTM1LTcuMDk1LTUuMDE1LTExLjIzNS0zLjY1XFxuJyArXG4gICAgJ1xcdGwtOS44NzIsMy4yNDZsLTkuODcyLTMuMjQ2Yy00LjE0Mi0xLjM2NC04LjY4NiwwLjExMy0xMS4yMzUsMy42NWwtNi4wODEsOC40M2wtOS44OTQsMy4xODNjLTQuMTQzLDEuMzMzLTYuOTQ4LDUuMTkxLTYuOTM4LDkuNTQzXFxuJyArXG4gICAgJ1xcdGwwLjAyNCwxMC4zOTlMMTQ5LjI4NCwyMjBoLTMuNTc2di0xOS41MzlDMTQ1LjcwOCwxNzIuOTU4LDE1My40OTYsMTU5LjAwMiwxNjAuMzY3LDE0Ni42ODl6IE0yMzYuMTM2LDM3NS40NTFoLTc2LjgyMVxcbicgK1xuICAgICdcXHRjLTMuNjUxLTAuNTI5LTEzLjYwNy0zLjQ1Mi0xMy42MDctMTkuNDUxdi02MC41aDQuODg4bDMuMTM2LDQuMjk1bC0wLjAyNCwxMC40Yy0wLjAxLDQuMzUyLDIuNzk1LDguMjExLDYuOTM5LDkuNTQzbDkuODkzLDMuMTgyXFxuJyArXG4gICAgJ1xcdGw2LjA4LDguNDNjMi41NSwzLjUzNSw3LjA5Niw1LjAxMywxMS4yMzUsMy42NDlsOS44NzItMy4yNDZsOS44NzIsMy4yNDZjMS4wMjksMC4zMzksMi4wODIsMC41MDIsMy4xMjMsMC41MDJcXG4nICtcbiAgICAnXFx0YzMuMTUyLTAuMDAxLDYuMTk2LTEuNDk0LDguMTEyLTQuMTUxbDYuMDgtOC40M2w5Ljg5My0zLjE4M2M0LjE0Mi0xLjMzMiw2Ljk0Ny01LjE5LDYuOTM4LTkuNTQybC0wLjAyNC0xMC40bDMuMTM1LTQuMjk1aDQuODg5VjM1NlxcbicgK1xuICAgICdcXHRDMjQ5Ljc0MywzNzEuOTk5LDIzOS43ODgsMzc0LjkyMiwyMzYuMTM2LDM3NS40NTF6XCIvPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8L3N2Zz5cXG4nXG5cbmV4cG9ydCBjb25zdCBwYXBlclNoZWV0U3ZnID0gJzxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcXG4nICtcbiAgICAnXFx0ICB2aWV3Qm94PVwiMCAwIDk2LjUgOTYuNVwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5Ni41IDk2LjU7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJ1xcdDxnPlxcbicgK1xuICAgICdcXHRcXHQ8cGF0aCBkPVwiTTg0LjUsMTAuNDk1Yy0wLjM0NCwwLTAuNjg0LDAuMDIzLTEuMDIsMC4wNTJjLTAuMDg0LTAuMDIzLTAuMTY2LTAuMDUyLTAuMjU2LTAuMDUySDM0Yy02LjYxNywwLTEyLDUuMzgzLTEyLDEydjUwLjUxSDFcXG4nICtcbiAgICAnXFx0XFx0XFx0Yy0wLjU1MywwLTEsMC40NDYtMSwxYzAsNi42MTYsNS4zODMsMTIsMTIsMTJjMC4yNDYsMCwwLjQ2NC0wLjEsMC42MzgtMC4yNDZjMC4xNzQsMC4xNDYsMC4zOTIsMC4yNDYsMC42MzgsMC4yNDZINjIuNVxcbicgK1xuICAgICdcXHRcXHRcXHRjNi42MTcsMCwxMi01LjM4NCwxMi0xMmMwLTAuMDktMC4wMjktMC4xNzItMC4wNTEtMC4yNTRjMC4wMjEtMC4wODQsMC4wNTEtMC4xNjQsMC4wNTEtMC4yNTV2LTMuMjV2LTQ2Ljc1aDIxXFxuJyArXG4gICAgJ1xcdFxcdFxcdGMwLjU1MywwLDEtMC40NDcsMS0xQzk2LjUsMTUuODc4LDkxLjExNywxMC40OTUsODQuNSwxMC40OTV6IE05NC40NDksMjEuNDk1SDc0LjU1MWMwLjUwNC01LjA0Niw0Ljc3My05LDkuOTQ5LTlcXG4nICtcbiAgICAnXFx0XFx0XFx0UzkzLjk0NSwxNi40NDksOTQuNDQ5LDIxLjQ5NXogTTEzLjI3Niw4NC4wMDVjLTAuMjQ2LDAtMC40NjQsMC4xMDItMC42MzgsMC4yNDZjLTAuMTc0LTAuMTQ2LTAuMzkyLTAuMjQ2LTAuNjM4LTAuMjQ2XFxuJyArXG4gICAgJ1xcdFxcdFxcdGMtNS4xNzYsMC05LjQ0Ni0zLjk1NS05Ljk0OS05aDQ4LjVjMC4zMTIsMy43NTQsMi4zNTQsNy4wMjEsNS4zMyw5SDEzLjI3NnogTTYyLjUsODQuMDA1Yy01LjUxNCwwLTEwLTQuNDg0LTEwLTEwXFxuJyArXG4gICAgJ1xcdFxcdFxcdGMwLTAuNTU0LTAuNDQ3LTEtMS0xSDI0di01MC41MWMwLTUuNTE0LDQuNDg2LTEwLDEwLTEwaDQzLjg4MWMtMy4yMzgsMi4xNTEtNS4zODEsNS44MjgtNS4zODEsMTB2NDcuNzV2My4yNVxcbicgK1xuICAgICdcXHRcXHRcXHRjMCwwLjA5LDAuMDI5LDAuMTcyLDAuMDUxLDAuMjU0Yy0wLjAyMSwwLjA4NC0wLjA1MSwwLjE2NC0wLjA1MSwwLjI1NEM3Mi41LDc5LjUxOSw2OC4wMTQsODQuMDA1LDYyLjUsODQuMDA1elwiLz5cXG4nICtcbiAgICAnXFx0XFx0PHBhdGggZD1cIk02My43NSw2NC4yNDVoLTI4Yy0wLjU1MywwLTEsMC40NDUtMSwxYzAsMC41NTMsMC40NDcsMSwxLDFoMjhjMC41NTMsMCwxLTAuNDQ3LDEtMVxcbicgK1xuICAgICdcXHRcXHRcXHRDNjQuNzUsNjQuNjksNjQuMzAzLDY0LjI0NSw2My43NSw2NC4yNDV6XCIvPlxcbicgK1xuICAgICdcXHRcXHQ8cGF0aCBkPVwiTTYzLjc1LDU0LjI0NWgtMjhjLTAuNTUzLDAtMSwwLjQ0NS0xLDFjMCwwLjU1MywwLjQ0NywxLDEsMWgyOGMwLjU1MywwLDEtMC40NDcsMS0xXFxuJyArXG4gICAgJ1xcdFxcdFxcdEM2NC43NSw1NC42OSw2NC4zMDMsNTQuMjQ1LDYzLjc1LDU0LjI0NXpcIi8+XFxuJyArXG4gICAgJ1xcdFxcdDxwYXRoIGQ9XCJNNjMuNzUsNDQuMjQ1aC0yOGMtMC41NTMsMC0xLDAuNDQ3LTEsMWMwLDAuNTUzLDAuNDQ3LDEsMSwxaDI4YzAuNTUzLDAsMS0wLjQ0NywxLTFcXG4nICtcbiAgICAnXFx0XFx0XFx0QzY0Ljc1LDQ0LjY5Miw2NC4zMDMsNDQuMjQ1LDYzLjc1LDQ0LjI0NXpcIi8+XFxuJyArXG4gICAgJ1xcdFxcdDxwYXRoIGQ9XCJNNjMuNzUsMzQuMjQ1aC0yOGMtMC41NTMsMC0xLDAuNDQ3LTEsMWMwLDAuNTUzLDAuNDQ3LDEsMSwxaDI4YzAuNTUzLDAsMS0wLjQ0NywxLTFcXG4nICtcbiAgICAnXFx0XFx0XFx0QzY0Ljc1LDM0LjY5Miw2NC4zMDMsMzQuMjQ1LDYzLjc1LDM0LjI0NXpcIi8+XFxuJyArXG4gICAgJ1xcdFxcdDxwYXRoIGQ9XCJNNjMuNzUsMjQuMjQ1aC0yOGMtMC41NTMsMC0xLDAuNDQ3LTEsMWMwLDAuNTUzLDAuNDQ3LDEsMSwxaDI4YzAuNTUzLDAsMS0wLjQ0NywxLTFcXG4nICtcbiAgICAnXFx0XFx0XFx0QzY0Ljc1LDI0LjY5Miw2NC4zMDMsMjQuMjQ1LDYzLjc1LDI0LjI0NXpcIi8+XFxuJyArXG4gICAgJ1xcdDwvZz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8Zz5cXG4nICtcbiAgICAnPC9nPlxcbicgK1xuICAgICc8L3N2Zz4nXG5cbmV4cG9ydCBjb25zdCBwbGFzdGljQm90dGxlU3ZnID0gJzxzdmcgdmVyc2lvbj1cIjEuMVwiIGlkPVwiQ2FwYV8xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcXG4nICtcbiAgICAnXFx0IHZpZXdCb3g9XCIwIDAgMzcxLjY2NyAzNzEuNjY3XCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NjcgMzcxLjY2NztcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxcbicgK1xuICAgICc8cGF0aCBkPVwiTTI0NS44MzMsMzcxLjY2N2gtMTIwYy05LjM3NCwwLTE3LTcuNjI2LTE3LTE3di0yNzNjMC04LjEzNiw1LjcxNS0xNS4wMjQsMTMuNTM4LTE2LjY0MWwzNC4zNzMtMTkuODcyXFxuJyArXG4gICAgJ1xcdGMtMC4yNjQtMC42MDktMC40MS0xLjI4MS0wLjQxLTEuOTg3VjVjMC0yLjc2MSwyLjIzOC01LDUtNWg1MWMyLjc2MiwwLDUsMi4yMzksNSw1djM4LjE2N2MwLDAuNjcxLTAuMTMyLDEuMzEyLTAuMzcyLDEuODk2XFxuJyArXG4gICAgJ1xcdGwzMi4zOTEsMTkuOTc1YzcuNzkzLDEuNjM4LDEzLjQ4LDguNTE1LDEzLjQ4LDE2LjYyOHYyNzNDMjYyLjgzMywzNjQuMDQxLDI1NS4yMDgsMzcxLjY2NywyNDUuODMzLDM3MS42Njd6IE0xMTguODMzLDMwMi42Njd2NTJcXG4nICtcbiAgICAnXFx0YzAsMy44NiwzLjE0MSw3LDcsN2gxMjBjMy44NTksMCw3LTMuMTQsNy03di01MkgxMTguODMzeiBNMTE4LjgzMywyOTIuNjY3aDEzNHYtMTNoLTEzNFYyOTIuNjY3eiBNMTE4LjgzMywyNjkuNjY3aDEzNHYtMTNoLTEzNFxcbicgK1xuICAgICdcXHRWMjY5LjY2N3ogTTExOC44MzMsMjQ2LjY2N2gxMzR2LTEzaC0xMzRWMjQ2LjY2N3ogTTExOC44MzMsMjIzLjY2N2gxMzR2LTEzaC0xMzRWMjIzLjY2N3ogTTExOC44MzMsMjAwLjY2N2gxMzR2LTEzaC0xMzRWMjAwLjY2N3pcXG4nICtcbiAgICAnXFx0IE0xMTguODMzLDE3Ny42NjdoMTM0di0xM2gtMTM0VjE3Ny42Njd6IE0xMTguODMzLDE1NC42NjdoMTM0di03MmgtMTM0VjE1NC42Njd6IE0xMjkuMTM0LDcyLjY2N2gxMTMuNTM4bC0zOS43MjktMjQuNWgtMzEuNDNcXG4nICtcbiAgICAnXFx0TDEyOS4xMzQsNzIuNjY3eiBNMjA0LjM2MSwzOC4xNjdoMi45NzRWMTBoLTQxdjI4LjE2N0gyMDQuMzYxelwiLz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPGc+XFxuJyArXG4gICAgJzwvZz5cXG4nICtcbiAgICAnPC9zdmc+XFxuJyIsImltcG9ydCB7IFRXYXN0ZSwgVFdhc3RlVHlwZSB9IGZyb20gJ0AvanMvdHlwZXMvdHlwZXMnXG5pbXBvcnQgeyBnbGFzc0JvdHRsZSwgcGFwZXJTaGVldCwgcGxhc3RpY0JvdHRsZSB9IGZyb20gJ0AvanMvY29uc3RzL3dhc3RlcydcbmltcG9ydCB7IHdhc3RlVHlwZXNFbnRpdGllcyB9IGZyb20gJ0AvanMvY29uc3RzL2NvbnN0cydcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRXYXN0ZVR5cGVzOiBBcnJheTxUV2FzdGVUeXBlPiA9IFt3YXN0ZVR5cGVzRW50aXRpZXMucGxhc3RpYywgd2FzdGVUeXBlc0VudGl0aWVzLmdsYXNzLCB3YXN0ZVR5cGVzRW50aXRpZXMucGFwZXJdXG5leHBvcnQgY29uc3QgZGVmYXVsdFdhc3RlczogQXJyYXk8VFdhc3RlPiA9IFtwbGFzdGljQm90dGxlLCBnbGFzc0JvdHRsZSwgcGFwZXJTaGVldF1cbmV4cG9ydCBjb25zdCBkZWZhdWx0R2FtZUR1cmF0aW9uID0gNjAiLCJpbXBvcnQgeyBUQ3JlYXRlZFdhc3RlLCBUV2FzdGUsIFRXYXN0ZVR5cGUgfSBmcm9tICdAL2pzL3R5cGVzL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgV2FzdGVzIHtcbiAgICBwcml2YXRlIHdhc3RlczogQXJyYXk8VENyZWF0ZWRXYXN0ZT4gPSBbXVxuXG4gICAgY29uc3RydWN0b3Iod2FzdGVUeXBlc0VudGl0aWVzOiBBcnJheTxUV2FzdGVUeXBlPiwgd2FzdGVzOiBBcnJheTxUV2FzdGU+KSB7XG4gICAgICAgIHRoaXMuY3JlYXRlV2FzdGVzKHdhc3RlVHlwZXNFbnRpdGllcywgd2FzdGVzKVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V2FzdGUod2FzdGU6IFRXYXN0ZSwgaWQ6IG51bWJlcik6IFRDcmVhdGVkV2FzdGUge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2FzdGVJZDogaWQsXG4gICAgICAgICAgICAuLi53YXN0ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVXYXN0ZXMod2FzdGVUeXBlc0VudGl0aWVzOiBBcnJheTxUV2FzdGVUeXBlPiwgd2FzdGVzOiBBcnJheTxUV2FzdGU+KSB7XG4gICAgICAgIHdhc3Rlcy5mb3JFYWNoKHdhc3RlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHdhc3RlSWQgPSB3YXN0ZVR5cGVzRW50aXRpZXMuZmluZEluZGV4KGVudGl0eSA9PiBlbnRpdHkud2FzdGVUeXBlID09PSB3YXN0ZS50eXBlKVxuICAgICAgICAgICAgaWYgKHdhc3RlSWQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YXN0ZXMucHVzaCh0aGlzLmdldFdhc3RlKHdhc3RlLCB3YXN0ZUlkKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmFuZG9tV2FzdGUoKTogVENyZWF0ZWRXYXN0ZSB7XG4gICAgICAgIHJldHVybiB0aGlzLndhc3Rlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLndhc3Rlcy5sZW5ndGgpXVxuICAgIH1cbn0iLCJpbXBvcnQgJ0Avc2Nzcy9tYWluLnNjc3MnXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnQC9qcy9nYW1lL0dhbWUnXG5jb25zdCBnYW1lRHVyYXRpb24gPSAzMFxuXG5uZXcgR2FtZShnYW1lRHVyYXRpb24pXG4iLCJpbXBvcnQgeyBDb3VudGRvd24gfSBmcm9tICdAL2pzL2dhbWUvQ291bnRkb3duJ1xuaW1wb3J0IHsgV2FzdGVDb250YWluZXJzIH0gZnJvbSAnQC9qcy9nYW1lL1dhc3RlQ29udGFpbmVycydcbmltcG9ydCB7XG4gICAgYmVzdFNjb3JlLFxuICAgIGNsb3NlTW9kYWxCdG4sXG4gICAgY29ycmVjdEFuc3dlckltZyxcbiAgICBjb3VudGRvd24sXG4gICAgY3VycmVudFNjb3JlLFxuICAgIGN1cnJlbnRXYXN0ZSxcbiAgICBpbmNvcnJlY3RBbnN3ZXJJbWcsIG1vZGFsLCBuZXdSZWNvcmRCZXN0U2NvcmUsXG4gICAgd2FzdGVDb250YWluZXJzXG59IGZyb20gJ0AvanMvY29uc3RzL2VsZW1lbnRzJ1xuaW1wb3J0IHsgVFdhc3RlLCBUV2FzdGVUeXBlIH0gZnJvbSAnQC9qcy90eXBlcy90eXBlcydcbmltcG9ydCB7IGRlZmF1bHRHYW1lRHVyYXRpb24sIGRlZmF1bHRXYXN0ZXMsIGRlZmF1bHRXYXN0ZVR5cGVzIH0gZnJvbSAnQC9qcy9jb25zdHMvZGVmYXVsdFNldHRpbmdzJ1xuXG5pbXBvcnQgeyBXYXN0ZXMgfSBmcm9tICdAL2pzL2dhbWUvV2FzdGVzJ1xuXG5leHBvcnQgY2xhc3MgR2FtZSB7XG4gICAgcHJpdmF0ZSBoYXNHYW1lU3RhcnRlZCA9IGZhbHNlXG5cbiAgICBwcml2YXRlIGNvdW50ZG93bjogQ291bnRkb3duXG5cbiAgICBwcml2YXRlIHdhc3RlQ29udGFpbmVyczogV2FzdGVDb250YWluZXJzXG5cbiAgICBwcml2YXRlIHdhc3RlczogV2FzdGVzXG5cbiAgICBwcml2YXRlIGN1cnJlbnRXYXN0ZVR5cGVJZDogbnVtYmVyfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSBzY29yZSA9IDBcblxuICAgIHByaXZhdGUgYmVzdFNjb3JlOiBudW1iZXJcblxuICAgIGNvbnN0cnVjdG9yKGdhbWVEdXJhdGlvbjogbnVtYmVyID0gZGVmYXVsdEdhbWVEdXJhdGlvbiwgd2FzdGVUeXBlczogQXJyYXk8VFdhc3RlVHlwZT4gPSBkZWZhdWx0V2FzdGVUeXBlcywgd2FzdGVzOiBBcnJheTxUV2FzdGU+ID0gZGVmYXVsdFdhc3Rlcykge1xuICAgICAgICB0aGlzLmNvdW50ZG93biA9IG5ldyBDb3VudGRvd24oZ2FtZUR1cmF0aW9uKVxuICAgICAgICB0aGlzLndhc3RlQ29udGFpbmVycyA9IG5ldyBXYXN0ZUNvbnRhaW5lcnMod2FzdGVUeXBlcylcbiAgICAgICAgdGhpcy53YXN0ZXMgPSBuZXcgV2FzdGVzKHdhc3RlVHlwZXMsIHdhc3RlcylcbiAgICAgICAgdGhpcy5iZXN0U2NvcmUgPSB0aGlzLmdldEJlc3RTY29yZSgpXG4gICAgICAgIHRoaXMuaW5pdCgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0KCkge1xuICAgICAgICBjb3VudGRvd24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZighdGhpcy5oYXNHYW1lU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRHYW1lKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgd2FzdGVDb250YWluZXJzLnF1ZXJ5U2VsZWN0b3JBbGwoJy53YXN0ZS1jb250YWluZXInKVxuICAgICAgICAgICAgLmZvckVhY2goKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCgpID0+IHRoaXMuY2hlY2tBbnN3ZXIoY29udGFpbmVyLmRhdGFzZXQud2FzdGVJZCkpXG4gICAgICAgICAgICB9KVxuICAgICAgICBjbG9zZU1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnZmFkZS1pbi1lbGVtZW50JylcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXRCZXN0U2NvcmUodGhpcy5iZXN0U2NvcmUpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydEdhbWUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaGFzR2FtZVN0YXJ0ZWQgPSB0cnVlXG4gICAgICAgIHRoaXMuc2V0U2NvcmUoMClcbiAgICAgICAgdGhpcy5jb3VudGRvd24uc3RhcnRDb3VudGRvd24oKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoR2FtZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB0aGlzLnNldFdhc3RlRWxlbWVudCgpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5pc2hHYW1lKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmhhc0dhbWVTdGFydGVkID0gZmFsc2VcbiAgICAgICAgY3VycmVudFdhc3RlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctZWxlbWVudCcpXG4gICAgICAgIGlmICh0aGlzLnNjb3JlID4gdGhpcy5iZXN0U2NvcmUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QmVzdFNjb3JlKHRoaXMuc2NvcmUpXG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdmYWRlLWluLWVsZW1lbnQnKVxuICAgICAgICAgICAgdGhpcy5zYXZlQmVzdFNjb3JlKHRoaXMuc2NvcmUpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrQW5zd2VyKHdhc3RlVHlwZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYodGhpcy5oYXNHYW1lU3RhcnRlZCkge1xuICAgICAgICAgICAgaWYgKE51bWJlcih3YXN0ZVR5cGVJZCkgPT09IHRoaXMuY3VycmVudFdhc3RlVHlwZUlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JyZWN0QW5zd2VyKClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmNvcnJlY3RBbnN3ZXIoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRXYXN0ZUVsZW1lbnQoKTogdm9pZCB7XG4gICAgICAgIGlmKHRoaXMuaGFzR2FtZVN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHdhc3RlID0gdGhpcy53YXN0ZXMuZ2V0UmFuZG9tV2FzdGUoKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50V2FzdGVUeXBlSWQgPSB3YXN0ZS53YXN0ZUlkXG5cbiAgICAgICAgICAgIGN1cnJlbnRXYXN0ZS5pbm5lckhUTUwgPSB3YXN0ZS5pbWFnZVxuICAgICAgICAgICAgY3VycmVudFdhc3RlLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLnN0eWxlLmZpbGwgPSB3YXN0ZS5jb2xvclxuICAgICAgICAgICAgY3VycmVudFdhc3RlLmNsYXNzTGlzdC5hZGQoJ3Nob3ctZWxlbWVudCcpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFNjb3JlKHNjb3JlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zY29yZSA9IHNjb3JlXG4gICAgICAgIGN1cnJlbnRTY29yZS50ZXh0Q29udGVudCA9IHNjb3JlLnRvU3RyaW5nKClcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldEJlc3RTY29yZShzY29yZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYmVzdFNjb3JlID0gc2NvcmVcblxuICAgICAgICBjb25zdCBkaXNwbGF5aW5nQmVzdFNjb3JlID0gc2NvcmUudG9TdHJpbmcoKVxuICAgICAgICBiZXN0U2NvcmUudGV4dENvbnRlbnQgPSBkaXNwbGF5aW5nQmVzdFNjb3JlXG4gICAgICAgIG5ld1JlY29yZEJlc3RTY29yZS50ZXh0Q29udGVudCA9IGRpc3BsYXlpbmdCZXN0U2NvcmVcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEJlc3RTY29yZSgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBiZXN0U2NvcmUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiZXN0U2NvcmUnKSlcbiAgICAgICAgcmV0dXJuIGJlc3RTY29yZSA/PyAwXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYXZlQmVzdFNjb3JlKHNjb3JlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2Jlc3RTY29yZScsIEpTT04uc3RyaW5naWZ5KHNjb3JlKSlcbiAgICAgICAgdGhpcy5iZXN0U2NvcmUgPSBzY29yZVxuICAgIH1cblxuICAgIHByaXZhdGUgY29ycmVjdEFuc3dlcigpOiB2b2lkIHtcbiAgICAgICAgY3VycmVudFdhc3RlLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctZWxlbWVudCcpXG4gICAgICAgIGNvcnJlY3RBbnN3ZXJJbWcuY2xhc3NMaXN0LmFkZCgnc2hvdy1lbGVtZW50JylcbiAgICAgICAgdGhpcy5zZXRTY29yZSh0aGlzLnNjb3JlICsgMSlcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXJJbWcuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1lbGVtZW50JylcbiAgICAgICAgICAgIHRoaXMuc2V0V2FzdGVFbGVtZW50KClcbiAgICAgICAgfSwgNTAwKVxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbmNvcnJlY3RBbnN3ZXIoKTogdm9pZCB7XG4gICAgICAgIGN1cnJlbnRXYXN0ZS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWVsZW1lbnQnKVxuICAgICAgICBpbmNvcnJlY3RBbnN3ZXJJbWcuY2xhc3NMaXN0LmFkZCgnc2hvdy1lbGVtZW50JylcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGluY29ycmVjdEFuc3dlckltZy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWVsZW1lbnQnKVxuICAgICAgICAgICAgdGhpcy5zZXRXYXN0ZUVsZW1lbnQoKVxuICAgICAgICB9LCA1MDApXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbInRpbWVySW5uZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb3VudGRvd24iLCJjb3VudGRvd25DaXJjbGUiLCJ3YXN0ZUNvbnRhaW5lclRlbXBsYXRlIiwid2FzdGVDb250YWluZXJzIiwiY3VycmVudFdhc3RlIiwiY3VycmVudFNjb3JlIiwiYmVzdFNjb3JlIiwibmV3UmVjb3JkQmVzdFNjb3JlIiwiY29ycmVjdEFuc3dlckltZyIsImluY29ycmVjdEFuc3dlckltZyIsIm1vZGFsIiwiY2xvc2VNb2RhbEJ0biIsIkNvdW50ZG93biIsImNvbnN0cnVjdG9yIiwidGltZSIsImZpbmFsT2Zmc2V0IiwidGhpcyIsInRvdGFsVGltZSIsInN0ZXAiLCJzZXRDb3VudGRvd25TdHJva2VEYXNob2Zmc2V0Iiwic3Ryb2tlRGFzaG9mZnNldCIsInN0eWxlIiwic2V0VGltZXJJbm5lciIsInRleHQiLCJpbm5lclRleHQiLCJzdGFydENvdW50ZG93biIsIlByb21pc2UiLCJyZXNvbHZlIiwiaSIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiV2FzdGVDb250YWluZXJzIiwid2FzdGVUeXBlcyIsImNyZWF0ZUNvbnRhaW5lcnMiLCJjcmVhdGVDb250YWluZXJFbnRpdHkiLCJ3YXN0ZVR5cGUiLCJpZCIsIndhc3RlSWQiLCJjb2xvciIsImRpc3BsYXlpbmdOYW1lIiwiZm9yRWFjaCIsImNvbnRhaW5lciIsImluZGV4Iiwid2FzdGVDb250YWluZXIiLCJjbG9uZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJkZXNjcmlwdGlvbiIsIndhc3RlQ29udGFpbmVyRWxlbWVudCIsInRleHRDb250ZW50IiwiYmFja2dyb3VuZCIsImRhdGFzZXQiLCJ0b1N0cmluZyIsImZpbGwiLCJhcHBlbmRDaGlsZCIsIldhc3RlVHlwZSIsIndhc3RlVHlwZXNFbnRpdGllcyIsInBsYXN0aWMiLCJQbGFzdGljIiwiZ2xhc3MiLCJHbGFzcyIsInBhcGVyIiwiUGFwZXIiLCJwbGFzdGljQm90dGxlIiwidHlwZSIsImltYWdlIiwiZ2xhc3NCb3R0bGUiLCJwYXBlclNoZWV0IiwiZGVmYXVsdFdhc3RlVHlwZXMiLCJkZWZhdWx0V2FzdGVzIiwiV2FzdGVzIiwid2FzdGVzIiwiY3JlYXRlV2FzdGVzIiwiZ2V0V2FzdGUiLCJ3YXN0ZSIsImZpbmRJbmRleCIsImVudGl0eSIsInB1c2giLCJnZXRSYW5kb21XYXN0ZSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImdhbWVEdXJhdGlvbiIsImhhc0dhbWVTdGFydGVkIiwiY3VycmVudFdhc3RlVHlwZUlkIiwic2NvcmUiLCJnZXRCZXN0U2NvcmUiLCJpbml0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0R2FtZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0Fuc3dlciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInNldEJlc3RTY29yZSIsInNldFNjb3JlIiwidGhlbiIsImZpbmlzaEdhbWUiLCJzZXRXYXN0ZUVsZW1lbnQiLCJhZGQiLCJzYXZlQmVzdFNjb3JlIiwid2FzdGVUeXBlSWQiLCJOdW1iZXIiLCJjb3JyZWN0QW5zd2VyIiwiaW5jb3JyZWN0QW5zd2VyIiwiaW5uZXJIVE1MIiwiZGlzcGxheWluZ0Jlc3RTY29yZSIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwic3RyaW5naWZ5Iiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=